<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="keywords" content="Renee Vandervelde, Blog">
    <meta name="author" content="Renee Vandervelde">
    <meta name="description" content="Feature flags in modern software development
        carry with them some risky behavior. Used incorrectly, they can become 
        problematic or even an anti-pattern within a project." />
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Feature Flags as an Anti-Pattern</title>

    <link rel="stylesheet" href="../../css/main-v8.css" type="text/css" media="all">
    <link rel="alternate" type="application/rss+xml" title="Generically Typed" href="https://reneevandervelde.com/publications/generically-typed/rss.xml">
</head>
<body>
    <header class="content-break">
        <nav>
            <ul>
                <li>
                    <a href="../../index.html">Renee Vandervelde</a>
                </li>
                <li>
                    <a href="../index.html">Publications</a>
                </li>
                <li>
                    Generically Typed
                </li>
            </ul>
        </nav>
    </header>
    <article class="content-break">
        <header>
            <h1>Feature Flags as an Anti-Pattern</h1>
            <p>Published on <time datetime="2024-06-14">2024-06-14</time></p>
        </header>
        <p>
            Over the years, I've begun to recognize scenarios in which
            feature flags have become a bad habit in projects. While there
            are some good use cases for feature flags, I have found them to
            be less useful in practice than the industry would seem to suggest.
            At their worst, they can be outright harmful to a project.
        </p>
        <hr />
        <h2>Feature Flags Maximize Work-In-Progress</h2>
        <p>
            The most problematic habit that I've seen develop in projects
            using feature flags is using them as a way to covertly roll over
            work between development cycles.
        </p>
        <p>
            Development cycles, such as Sprints, are a way to minimize the
            amount of in-progress work that a team has. Their purpose is to
            ensure that the application frequently hits milestones in which
            the project is <em>shipable</em>. Until a feature is
            <em>actually</em> shipped to the customer, no value has been
            delivered, and the work is still accumulating unplanned work
            and technical debt.
        </p>
        <p>
            Feature Flags conveniently enable developers to side-step these
            processes by 'shipping' code that is never actually used by 
            customers. That is until the day the feature flag is enabled
            and months of work suddenly hit production at once. Problems 
            quickly arise and bugs flood and slam engineering teams with
            unplanned work, grinding development velocity to a halt.
        </p>
        <p>
            One of my biggest pet peeves in development processes is how
            often teams are willing to <em>lie to themselves</em> about what
            they're actually doing. People love to <em>say</em> that they're
            an agile team, or that they work in a Scrum process. But, more
            often than not, what they mean is they scheduled a stand-up 
            meeting. Because, after all, that was the easiest part of the 
            process. Agile development is <strong>hard</strong>, and it
            requires discipline. Feature flags allow teams to break that
            discipline. Don't lie to yourself, this is a
            <strong>waterfall</strong> process. Meeting every two weeks to
            discuss how the project is going doesn't make the team agile.
        </p>
        <h2>Feature Flags Won't Save You</h2>
        <p>
            One of the arguments I hear in favor of feature flags is the
            ability to "roll back" a feature if it isn't working properly.
            While this can sometimes be useful, it's not the savior you
            may think it is.
        </p>
        <p>
            For many complex features, the ability to roll back a feature
            needs to be carefully considered in its design. If a feature
            modifies data in such a way that is not backward compatible,
            disabling the feature flag may actually <em>cause errors</em>.
        </p>
        <p>
            Additionally, the user experience of having a feature rolled
            back is quite poor. In severe cases, it can even be damaging to
            the integrity of the application. This can be particularly
            sensitive for security features. Imagine an application that
            rolls out a new feature enabling fingerprint authentication.
            Can this feature be rolled back? If a roll back is done in this
            scenario, the user will unexpectedly lose a feature they were
            counting on for security. This can be very risky.
        </p>
        <p>
            What the team <em>actually needs</em> is the ability to mitigate
            problems quickly in an application. In some scenarios, feature
            flags help with that. However, this also allows teams to ignore
            potential improvements to the hotfix and deployment process.
        </p>
        <h2>What are Flags Good For?</h2>
        <p>
            My favorite argument <strong>for</strong> feature flags is
            phased rollouts. For these scenarios, there's really no match.
            This is particularly useful if the feature is gated to specific
            subsets of users. But I want you to ask yourself: Do you
            <em>really need</em> a phased rollout? If the project is a
            high-traffic application and are rolling out a feature in the
            critical path of functionality, by all means. But if the product
            is a consumer application that only sees casual use, or if the
            feature is already tucked away in a non-critical part of the
            application, you likely don't need a phased rollout, as the
            users will self-select into a small but growing group of users.
        </p>
        <p>
            Another argument for feature flags that I find dubious is
            experiments. Feature flags are definitely useful when rolling
            out variant user experiences to determine if a change will
            impact usage as expected. However, I've found that these
            cases are quite sparse in practice, and the impact on user
            experience that is inconsistent can be costly. It also makes
            documentation and support difficult when the experience is
            materially changed. Use experiments sparingly.
        </p>
    </article>
</body>
</html>
